{"version":3,"sources":["components/imageGalleryItem/imageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/imageGallery.module.css","components/loader/loader.module.css","components/button/Button.module.css","services/photosApi.js","components/searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/Loader.js","components/errorNotification/ErrorNotification.js","components/button/Button.js","components/modal/Modal.js","components/App.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","fetchPhotosWithQuery","value","numPage","REACT_APP_KEY","axios","get","then","response","data","hits","Searchbar","state","handleChange","e","setState","target","handleSubmit","preventDefault","props","queryChange","onSubmit","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","galleryRef","createRef","handleClicklPic","id","onLargeImageURL","photosArr","arr","map","url","alt","onClick","ref","src","ImageGalleryItemImage","window","addEventListener","removeEventListener","photos","ImageGallery","listRef","prevProps","prevState","dataPhotoArr","scrollTo","top","document","documentElement","scrollHeight","behavior","Spinner","spinnerContainer","color","height","width","timeout","ErrorNotification","text","Button","loadMore","button","Modal","backDropRef","handlePressKey","code","closeModal","handleBackDropClick","current","largeImageURL","Overlay","mapper","articles","webformatURL","App","isLoading","error","pageNum","inputValue","isModalOpen","findLargeImage","param","find","elem","toString","largeUrl","fetchPhotos","services","catch","finally","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.883b7397.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__3Yudc\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__30rL4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__30j23\",\"Modal\":\"Modal_Modal__2PRNh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__3nitn\",\"ImageGalleryItem\":\"imageGallery_ImageGalleryItem__3sAL1\",\"ImageGalleryItemImage\":\"imageGallery_ImageGalleryItemImage__tVxdR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerContainer\":\"loader_spinnerContainer__MPf45\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3ykPE\"};","import axios from \"axios\";\r\n\r\nexport const fetchPhotosWithQuery = (value = \"dog\", numPage = 1) => {\r\n  const REACT_APP_KEY = \"15354044-5c6c2e030b5f90cfcf13d54e3\";\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${value}&page=${numPage}&key=${REACT_APP_KEY}&image_type=photo&orientation=horizontal&per_page=5`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { value: \"\" };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.queryChange(this.state.value);\r\n    this.props.onSubmit(this.state.value);\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            className={styles.SearchFormInput}\r\n            value={value}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import styles from \"./imageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Component, createRef } from \"react\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  galleryRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"click\", this.handleClicklPic);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"click\", this.handleClicklPic);\r\n  }\r\n\r\n  handleClicklPic = (e) => {\r\n    e.target.id && this.props.onLargeImageURL(e.target.id);\r\n  };\r\n\r\n  photosArr = (arr) =>\r\n    arr.map(({ id, url, alt }) => (\r\n      <li key={id} className={styles.ImageGalleryItem}>\r\n        <img\r\n          onClick={this.handleClicklPic}\r\n          ref={this.galleryRef}\r\n          id={id}\r\n          src={url}\r\n          alt={alt}\r\n          className={styles.ImageGalleryItemImage}\r\n        />\r\n      </li>\r\n    ));\r\n\r\n  render() {\r\n    const { photos } = this.props;\r\n    return this.photosArr(photos);\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  photos: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      url: PropTypes.string.isRequired,\r\n      alt: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n};\r\n\r\n","import { Component, createRef } from \"react\";\r\nimport styles from \"./imageGallery.module.css\";\r\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  listRef = createRef();\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.dataPhotoArr !== prevProps.dataPhotoArr) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const { dataPhotoArr, onLargeImageURL } = this.props;\r\n    return (\r\n      <ul\r\n        ref={this.listRef}\r\n        className={styles.ImageGallery}\r\n        onClick={this.handleClicklPic}\r\n      >\r\n        <ImageGalleryItem\r\n          photos={dataPhotoArr}\r\n          onLargeImageURL={onLargeImageURL}\r\n        />\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  dataPhotoArr: PropTypes.array.isRequired,\r\n  onLargeImageURL: PropTypes.func.isRequired,\r\n};\r\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from './loader.module.css'\r\n\r\nconst Spinner = () => {\r\n  return (\r\n      <div className={styles.spinnerContainer}>\r\n    <Loader\r\n      type=\"Oval\"\r\n      color=\"#00BFFF\"\r\n      height={150}\r\n      width={150}\r\n      timeout={1000} //3 secs\r\n    />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import PropTypes from 'prop-types'\r\n\r\nconst ErrorNotification = ({ text }) => (\r\n  <h1>Whoops, something went wrong: {text}</h1>\r\n);\r\n\r\nErrorNotification.propTypes={\r\n  text: PropTypes.string.isRequired\r\n}\r\n\r\nexport default ErrorNotification;\r\n","import styles from \"./Button.module.css\";\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Button = ({ loadMore }) => {\r\n  return (\r\n    <button onClick={loadMore} className={styles.button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Button;\r\n","import { Component, createRef } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  backDropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handlePressKey);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handlePressKey);\r\n  }\r\n\r\n  handlePressKey = (e) => {\r\n    if (e.code !== \"Escape\") return;\r\n    this.props.closeModal();\r\n  };\r\n\r\n  handleBackDropClick = (e) => {\r\n    const { current } = this.backDropRef;\r\n    if (current && e.target !== current) return;\r\n    this.props.closeModal();\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        onClick={this.handleBackDropClick}\r\n        ref={this.backDropRef}\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img src={largeImageURL} alt=\"largePic\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n","import React, { Fragment, Component } from \"react\";\nimport \"./App.css\";\nimport * as services from \"../services/photosApi\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Spinner from \"./loader/Loader\";\nimport ErrorNotification from \"./errorNotification/ErrorNotification\";\nimport Button from \"./button/Button\";\nimport Modal from \"./modal/Modal\";\n\nconst mapper = (articles) => {\n  return articles.map(({ webformatURL: url, type: alt, ...props }) => ({\n    url,\n    alt,\n    ...props,\n  }));\n};\n\nwindow.scrollTo({\n  top: document.documentElement.scrollHeight,\n  behavior: \"smooth\",\n});\n\nexport default class App extends Component {\n  state = {\n    isLoading: false,\n    error: null,\n    photos: [],\n    pageNum: 1,\n    inputValue: \"dog\",\n    isModalOpen: false,\n    largeImageURL: \"\",\n  };\n\n  componentDidMount() {\n    this.fetchPhotos();\n  }\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  findLargeImage = (arr, param) => {\n    return arr.find((elem) => elem.id.toString() === param);\n  };\n\n  onLargeImageURL = (id) => {\n    const largeUrl = this.findLargeImage(this.state.photos, id).largeImageURL;\n    this.setState({\n      largeImageURL: largeUrl,\n      isModalOpen: true,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.pageNum !== this.state.pageNum) {\n      services\n        .fetchPhotosWithQuery(this.state.inputValue, this.state.pageNum)\n        .then((data) =>\n          this.setState((prevState) => ({\n            photos: [...prevState.photos, ...mapper(data)],\n          }))\n        )\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  }\n\n  fetchPhotos = (value) => {\n    this.setState({ isLoading: true });\n    services\n      .fetchPhotosWithQuery(value)\n      .then((data) => this.setState({ photos: mapper(data) }))\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  loadMore = () => {\n    return this.setState((prevState) => ({\n      pageNum: (prevState.pageNum += 1),\n    }));\n  };\n\n  queryChange = (value) => {\n    this.setState({ inputValue: value });\n  };\n\n  render() {\n    const { photos, isLoading, error, inputValue, isModalOpen, largeImageURL } =\n      this.state;\n    return (\n      <div className=\"App\">\n        {error && <ErrorNotification text={error.response.data} />}\n        {isLoading && <Spinner />}\n\n        <Searchbar onSubmit={this.fetchPhotos} queryChange={this.queryChange} />\n        {photos.length > 0 && inputValue && (\n          <Fragment>\n            <ImageGallery\n              dataPhotoArr={photos}\n              onLargeImageURL={this.onLargeImageURL}\n            />\n            <Button loadMore={this.loadMore} />\n            {isModalOpen && (\n              <Modal\n                closeModal={this.closeModal}\n                largeImageURL={largeImageURL}\n              />\n            )}\n          </Fragment>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__tqhbt\",\"SearchForm\":\"Searchbar_SearchForm__2RzUi\",\"SearchFormButton\":\"Searchbar_SearchFormButton__n4tqt\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__bQzE_\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3jziT\"};"],"sourceRoot":""}